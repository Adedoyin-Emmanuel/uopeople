<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Us - Company Website</title>
    <style>
      /* Global styling for professional appearance */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background-color: #f5f5f5;
        color: #333;
        line-height: 1.6;
        padding: 20px;
      }

      /* Container for the entire form */
      .form-container {
        max-width: 800px;
        margin: 0 auto;
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      /* Main heading styling */
      h1 {
        color: #2c3e50;
        text-align: center;
        margin-bottom: 30px;
        font-size: 2.5em;
        font-weight: 300;
      }

      /* Form styling */
      .contact-form {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      /* Form group styling for consistent spacing */
      .form-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      /* Label styling */
      label {
        font-weight: 600;
        color: #34495e;
        font-size: 1.1em;
      }

      /* Input field styling */
      input[type="text"],
      input[type="email"],
      input[type="tel"],
      textarea,
      select {
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 5px;
        font-size: 1em;
        transition: border-color 0.3s ease;
      }

      /* Focus states for better user experience */
      input:focus,
      textarea:focus,
      select:focus {
        outline: none;
        border-color: #3498db;
      }

      /* Textarea specific styling */
      textarea {
        resize: vertical;
        min-height: 120px;
      }

      /* Radio button container styling */
      .radio-group {
        display: flex;
        gap: 20px;
        margin-top: 5px;
      }

      /* Radio button styling */
      .radio-option {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      input[type="radio"] {
        width: 18px;
        height: 18px;
        accent-color: #3498db;
      }

      /* Button styling */
      .button-group {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin-top: 20px;
      }

      button {
        padding: 12px 30px;
        border: none;
        border-radius: 5px;
        font-size: 1.1em;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      /* Submit button styling */
      .submit-btn {
        background-color: #27ae60;
        color: white;
      }

      .submit-btn:hover {
        background-color: #219a52;
      }

      /* Preview button styling */
      .preview-btn {
        background-color: #3498db;
        color: white;
      }

      .preview-btn:hover {
        background-color: #2980b9;
      }

      /* Error message styling */
      .error-message {
        color: #e74c3c;
        font-size: 0.9em;
        margin-top: 5px;
        display: none;
      }

      /* Input error state styling */
      .input-error {
        border-color: #e74c3c !important;
      }

      /* Preview section styling */
      .preview-section {
        margin-top: 30px;
        padding: 20px;
        background-color: #ecf0f1;
        border-radius: 8px;
        border-left: 4px solid #3498db;
        display: none;
      }

      .preview-section h2 {
        color: #2c3e50;
        margin-bottom: 15px;
      }

      .preview-item {
        margin-bottom: 10px;
        padding: 8px 0;
        border-bottom: 1px solid #bdc3c7;
      }

      .preview-item:last-child {
        border-bottom: none;
      }

      .preview-label {
        font-weight: 600;
        color: #34495e;
      }

      .preview-value {
        color: #2c3e50;
        margin-left: 10px;
      }

      /* Responsive design for mobile devices */
      @media (max-width: 600px) {
        .form-container {
          padding: 20px;
        }

        .radio-group {
          flex-direction: column;
          gap: 10px;
        }

        .button-group {
          flex-direction: column;
        }

        button {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div class="form-container">
      <h1>Contact Us</h1>

      <!-- Main contact form with POST method for server submission -->
      <form
        id="contactForm"
        class="contact-form"
        method="POST"
        action="/submit-contact"
        novalidate
      >
        <!-- Name input field -->
        <div class="form-group">
          <label for="customerName">Name:</label>
          <input
            type="text"
            id="customerName"
            name="customerName"
            placeholder="Enter your full name"
            required
          />
          <div class="error-message" id="nameError">
            Please enter your name.
          </div>
        </div>

        <!-- Email input field with validation -->
        <div class="form-group">
          <label for="customerEmail">Email:</label>
          <input
            type="email"
            id="customerEmail"
            name="customerEmail"
            placeholder="Enter your email address"
            required
          />
          <div class="error-message" id="emailError">
            Please enter a valid email address.
          </div>
        </div>

        <!-- Phone number input field -->
        <div class="form-group">
          <label for="customerPhone">Phone Number:</label>
          <input
            type="tel"
            id="customerPhone"
            name="customerPhone"
            placeholder="Enter your 10-digit phone number"
            required
          />
          <div class="error-message" id="phoneError">
            Please enter a valid 10-digit phone number.
          </div>
        </div>

        <!-- Message textarea -->
        <div class="form-group">
          <label for="customerMessage">Message:</label>
          <textarea
            id="customerMessage"
            name="customerMessage"
            placeholder="Enter your message here..."
            required
          ></textarea>
          <div class="error-message" id="messageError">
            Please enter your message.
          </div>
        </div>

        <!-- Radio buttons for preferred contact method -->
        <div class="form-group">
          <label>Preferred Contact Method:</label>
          <div class="radio-group">
            <div class="radio-option">
              <input
                type="radio"
                id="contactEmail"
                name="preferredContactMethod"
                value="Email"
                required
              />
              <label for="contactEmail">Email</label>
            </div>
            <div class="radio-option">
              <input
                type="radio"
                id="contactPhone"
                name="preferredContactMethod"
                value="Phone"
              />
              <label for="contactPhone">Phone</label>
            </div>
            <div class="radio-option">
              <input
                type="radio"
                id="contactBoth"
                name="preferredContactMethod"
                value="Both"
              />
              <label for="contactBoth">Both</label>
            </div>
          </div>
          <div class="error-message" id="contactMethodError">
            Please select a preferred contact method.
          </div>
        </div>

        <!-- Dropdown menu for inquiry type -->
        <div class="form-group">
          <label for="inquiryType">Inquiry Type:</label>
          <select id="inquiryType" name="inquiryType" required>
            <option value="">Select an option</option>
            <option value="General Inquiry">General Inquiry</option>
            <option value="Support Request">Support Request</option>
            <option value="Feedback">Feedback</option>
          </select>
          <div class="error-message" id="inquiryTypeError">
            Please select an inquiry type.
          </div>
        </div>

        <!-- Form action buttons -->
        <div class="button-group">
          <button type="button" class="preview-btn" onclick="previewFormData()">
            Preview
          </button>
          <button type="submit" class="submit-btn">Submit</button>
        </div>
      </form>

      <!-- Preview section that displays form data using GET method -->
      <div class="preview-section" id="previewSection">
        <h2>Form Preview</h2>
        <div id="previewContent"></div>
      </div>
    </div>

    <script>
      // Get form element and attach event listener for submission
      const contactForm = document.getElementById("contactForm");
      contactForm.addEventListener("submit", handleFormSubmission);

      /**
       * Handles form submission with validation
       * Prevents submission if validation fails
       */
      function handleFormSubmission(event) {
        event.preventDefault(); // Prevent default form submission

        // Validate all form fields before submission
        if (validateCompleteForm()) {
          // If validation passes, show success message and submit
          alert("Form submitted successfully! Thank you for contacting us.");
          // In a real application, this would submit to the server
          // contactForm.submit();
        }
      }

      /**
       * Validates the entire form by checking all required fields
       * Returns true if all validation passes, false otherwise
       */
      function validateCompleteForm() {
        let isFormValid = true;

        // Clear all previous error states
        clearAllErrorStates();

        // Validate name field
        if (!validateNameField()) {
          isFormValid = false;
        }

        // Validate email field
        if (!validateEmailField()) {
          isFormValid = false;
        }

        // Validate phone number field
        if (!validatePhoneField()) {
          isFormValid = false;
        }

        // Validate message field
        if (!validateMessageField()) {
          isFormValid = false;
        }

        // Validate contact method selection
        if (!validateContactMethodSelection()) {
          isFormValid = false;
        }

        // Validate inquiry type selection
        if (!validateInquiryTypeSelection()) {
          isFormValid = false;
        }

        return isFormValid;
      }

      /**
       * Validates the name field to ensure it's not empty
       */
      function validateNameField() {
        const nameInput = document.getElementById("customerName");
        const nameError = document.getElementById("nameError");

        if (nameInput.value.trim() === "") {
          displayFieldError(nameInput, nameError, "Please enter your name.");
          return false;
        }

        return true;
      }

      /**
       * Validates the email field for proper format
       */
      function validateEmailField() {
        const emailInput = document.getElementById("customerEmail");
        const emailError = document.getElementById("emailError");
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        if (emailInput.value.trim() === "") {
          displayFieldError(
            emailInput,
            emailError,
            "Please enter your email address."
          );
          return false;
        } else if (!emailPattern.test(emailInput.value.trim())) {
          displayFieldError(
            emailInput,
            emailError,
            "Please enter a valid email address."
          );
          return false;
        }

        return true;
      }

      /**
       * Validates the phone number field for exactly 10 digits
       */
      function validatePhoneField() {
        const phoneInput = document.getElementById("customerPhone");
        const phoneError = document.getElementById("phoneError");
        const phonePattern = /^\d{10}$/;

        if (phoneInput.value.trim() === "") {
          displayFieldError(
            phoneInput,
            phoneError,
            "Please enter your phone number."
          );
          return false;
        } else if (!phonePattern.test(phoneInput.value.replace(/\D/g, ""))) {
          displayFieldError(
            phoneInput,
            phoneError,
            "Please enter a valid 10-digit phone number."
          );
          return false;
        }

        return true;
      }

      /**
       * Validates the message field to ensure it's not empty
       */
      function validateMessageField() {
        const messageInput = document.getElementById("customerMessage");
        const messageError = document.getElementById("messageError");

        if (messageInput.value.trim() === "") {
          displayFieldError(
            messageInput,
            messageError,
            "Please enter your message."
          );
          return false;
        }

        return true;
      }

      /**
       * Validates that a contact method is selected
       */
      function validateContactMethodSelection() {
        const contactMethodRadios = document.querySelectorAll(
          'input[name="preferredContactMethod"]'
        );
        const contactMethodError =
          document.getElementById("contactMethodError");

        let isContactMethodSelected = false;
        contactMethodRadios.forEach((radio) => {
          if (radio.checked) {
            isContactMethodSelected = true;
          }
        });

        if (!isContactMethodSelected) {
          contactMethodError.style.display = "block";
          return false;
        }

        return true;
      }

      /**
       * Validates that an inquiry type is selected
       */
      function validateInquiryTypeSelection() {
        const inquiryTypeSelect = document.getElementById("inquiryType");
        const inquiryTypeError = document.getElementById("inquiryTypeError");

        if (inquiryTypeSelect.value === "") {
          displayFieldError(
            inquiryTypeSelect,
            inquiryTypeError,
            "Please select an inquiry type."
          );
          return false;
        }

        return true;
      }

      /**
       * Displays error message and adds error styling to a field
       */
      function displayFieldError(inputElement, errorElement, errorMessage) {
        inputElement.classList.add("input-error");
        errorElement.textContent = errorMessage;
        errorElement.style.display = "block";
      }

      /**
       * Clears all error states and messages from the form
       */
      function clearAllErrorStates() {
        // Remove error styling from all input fields
        const allInputs = document.querySelectorAll("input, textarea, select");
        allInputs.forEach((input) => {
          input.classList.remove("input-error");
        });

        // Hide all error messages
        const allErrorMessages = document.querySelectorAll(".error-message");
        allErrorMessages.forEach((error) => {
          error.style.display = "none";
        });
      }

      /**
       * Preview feature that displays form data using GET method simulation
       * Shows entered data before actual submission
       */
      function previewFormData() {
        // Validate form before showing preview
        if (!validateCompleteForm()) {
          alert("Please fix all validation errors before previewing.");
          return;
        }

        // Get all form values
        const formData = gatherFormData();

        // Generate preview content
        const previewContent = generatePreviewContent(formData);

        // Display preview section
        document.getElementById("previewContent").innerHTML = previewContent;
        document.getElementById("previewSection").style.display = "block";

        // Simulate GET method by updating URL parameters (for demonstration)
        updateUrlWithFormData(formData);
      }

      /**
       * Gathers all form data into an object
       */
      function gatherFormData() {
        const formData = {
          name: document.getElementById("customerName").value.trim(),
          email: document.getElementById("customerEmail").value.trim(),
          phone: document.getElementById("customerPhone").value.trim(),
          message: document.getElementById("customerMessage").value.trim(),
          contactMethod: document.querySelector(
            'input[name="preferredContactMethod"]:checked'
          ).value,
          inquiryType: document.getElementById("inquiryType").value,
        };

        return formData;
      }

      /**
       * Generates HTML content for the preview section
       */
      function generatePreviewContent(formData) {
        return `
                <div class="preview-item">
                    <span class="preview-label">Name:</span>
                    <span class="preview-value">${formData.name}</span>
                </div>
                <div class="preview-item">
                    <span class="preview-label">Email:</span>
                    <span class="preview-value">${formData.email}</span>
                </div>
                <div class="preview-item">
                    <span class="preview-label">Phone:</span>
                    <span class="preview-value">${formData.phone}</span>
                </div>
                <div class="preview-item">
                    <span class="preview-label">Message:</span>
                    <span class="preview-value">${formData.message}</span>
                </div>
                <div class="preview-item">
                    <span class="preview-label">Preferred Contact Method:</span>
                    <span class="preview-value">${formData.contactMethod}</span>
                </div>
                <div class="preview-item">
                    <span class="preview-label">Inquiry Type:</span>
                    <span class="preview-value">${formData.inquiryType}</span>
                </div>
            `;
      }

      /**
       * Updates URL with form data to simulate GET method
       */
      function updateUrlWithFormData(formData) {
        const urlParams = new URLSearchParams();
        urlParams.append("name", formData.name);
        urlParams.append("email", formData.email);
        urlParams.append("phone", formData.phone);
        urlParams.append("message", formData.message);
        urlParams.append("contactMethod", formData.contactMethod);
        urlParams.append("inquiryType", formData.inquiryType);

        // Update URL without refreshing page
        const newUrl = window.location.pathname + "?" + urlParams.toString();
        window.history.pushState({}, "", newUrl);
      }

      /**
       * Load preview data from URL parameters on page load (GET method simulation)
       */
      function loadPreviewFromUrl() {
        const urlParams = new URLSearchParams(window.location.search);

        if (urlParams.has("name")) {
          // Populate form fields with URL parameters
          document.getElementById("customerName").value =
            urlParams.get("name") || "";
          document.getElementById("customerEmail").value =
            urlParams.get("email") || "";
          document.getElementById("customerPhone").value =
            urlParams.get("phone") || "";
          document.getElementById("customerMessage").value =
            urlParams.get("message") || "";

          // Set radio button selection
          const contactMethod = urlParams.get("contactMethod");
          if (contactMethod) {
            document.querySelector(
              `input[name="preferredContactMethod"][value="${contactMethod}"]`
            ).checked = true;
          }

          // Set dropdown selection
          const inquiryType = urlParams.get("inquiryType");
          if (inquiryType) {
            document.getElementById("inquiryType").value = inquiryType;
          }

          // Show preview automatically
          previewFormData();
        }
      }

      window.addEventListener("load", loadPreviewFromUrl);
    </script>
  </body>
</html>
